<manifest name="accords:parser" xmlns="http://www.compatibleone.fr/schemes/manifest.xsd">
<node name="accords:publisher" access="public" scope="common" type="accords:publisher"/>
<node name="parser" access="public" scope="normal" type="simple" provider="openstack">
	<infrastructure name="accords:component"/>
	<image name="debian:parser">
		<system name="debian_with_cosacs"/>
		<package 
			name="debian:parser" 
			installation="wget http://www.compatibleone.fr/accords-platform/install-parser.sh"
			configuration="bash install-parser.sh">
			<port name="parser" protocol="tcp" from="8087" to="8087" range="0.0.0.0/0"/>
		</package>
	</image>
</node>
<configuration name="accords:parser">
	<action expression="parser.configure(accords:publisher.publisher.hostname);"/>
	<action expression="parser.fork('bash run-parser');"/>
</configuration>
<security name="accords:security"/>
<account name="accords:account"/>
</manifest>

